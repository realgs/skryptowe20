<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>

    <title>MyWebApi - podsumowania sprzedaży</title>
</head>
<body>
<a href="http://127.0.0.1:8000">Wróć do strony głównej</a>
<a href="http://127.0.0.1:8000/request_builder">Wróć do kreatora zapytań</a>
<canvas id="chartjs-0" class="chartjs" style="width: 100%;"></canvas>
<script> new Chart(document.getElementById("chartjs-0"), {
    "type": "line",
    "data": {
        "labels":
            [
                {% for record in sales_json.result %}
                    "{{ record.day }}",
                {% endfor %}
            ],
        "datasets": [{
            "label": "Sprzedaż w złotówkach",
            "data":
                [
                    {% for record in sales_json.result %}
                        {{ record.sales_pln }},
                    {% endfor %}
                ],
            "fill": false,
            "borderColor": "rgb(40, 68, 210)",
            "lineTension": 0.1
        }, {
            "label": "Sprzedaż w dolarach",
            "data": [
                {% for record in sales_json.result %}
                    {{ record.sales_usd }},
                {% endfor %}
                ],
            "fill": false,
            "borderColor": "rgb(205, 113, 33)",
            lineTension: 0.1
        }]
    },
    "options": {
        title: {
            display: true,
            fontSize: 60,
            text: "Podsumowanie sprzedaży z dni {{ start_date }} do {{ end_date }}"
        },
        scales: {
            yAxes: [{
                scaleLabel: {
                    display: true,
                    labelString: 'Sprzedaż'
                }
            }],
            xAxes: [{
                scaleLabel: {
                    display: true,
                    labelString: 'Data'
                }
            }]
        }
    }
});
</script>

</body>
</html>