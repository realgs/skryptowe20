(this.webpackJsonplab6=this.webpackJsonplab6||[]).push([[0],{11:function(e,t,s){},12:function(e,t,s){},17:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s(1),l=s.n(c),i=s(5),r=s.n(i),n=(s(11),s(12),s(2)),j=s(4),d=s.n(j),o=(new Date).toISOString().slice(0,10);function h(){var e=new Date;e.setDate(e.getDate()-10);var t=Object(c.useState)(null),s=Object(n.a)(t,2),l=s[0],i=s[1],r=Object(c.useState)("USD"),j=Object(n.a)(r,2),h=j[0],b=j[1],m=Object(c.useState)(e.toISOString().slice(0,10)),O=Object(n.a)(m,2),x=O[0],p=O[1],u=Object(c.useState)(o),g=Object(n.a)(u,2),N=g[0],f=g[1],y=Object(c.useState)(!0),v=Object(n.a)(y,2),D=v[0],k=v[1],w=Object(c.useState)(!1),S=Object(n.a)(w,2),U=S[0],E=S[1],R=Object(c.useRef)(!0);function z(){k(!0),fetch("http://localhost:8080/api/rates/".concat(h,"?startDate=").concat(x,"&endDate=").concat(N),{method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){console.log(e),i(e),k(!1),U&&E(!1)})):(E(!0),k(!1))})).catch((function(e){E(!0),k(!1)}))}return Object(c.useEffect)((function(){R.current||z()}),[x,N,h]),Object(c.useEffect)((function(){R.current=!1}),[]),R.current&&(z(),R.current=!1),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{style:{height:25,margin:10},children:[Object(a.jsxs)("span",{className:"float-start",children:[Object(a.jsx)("input",{type:"date",id:"start",name:"trip-start",value:x,min:"2012-01-01",max:N,onChange:function(e){return p(e.target.value)}})," ~ ",Object(a.jsx)("input",{type:"date",id:"end",name:"trip-start",value:N,min:x,max:o,onChange:function(e){return f(e.target.value)}})]}),Object(a.jsx)("span",{className:"float-end",children:Object(a.jsxs)("select",{id:"inputState",onChange:function(e){return b(e.target.value)},defaultValue:"EUR",children:[Object(a.jsx)("option",{children:"EUR"}),Object(a.jsx)("option",{children:"USD"}),Object(a.jsx)("option",{children:"GBP"}),Object(a.jsx)("option",{children:"CHF"}),Object(a.jsx)("option",{children:"AUD"}),Object(a.jsx)("option",{children:"RUB"}),Object(a.jsx)("option",{children:"TRY"})]})})]}),function(){if(U)return Object(a.jsxs)("div",{className:"alert alert-danger text-start m-5",role:"alert",children:[Object(a.jsx)("h4",{className:"alert-heading",children:"Error!"}),Object(a.jsx)("p",{children:"There was an error while connecting to exchange api."}),Object(a.jsx)("hr",{}),Object(a.jsx)("p",{className:"mb-0",children:"Please try again later."})]});if(D)return Object(a.jsx)("div",{className:"spinner-border text-dark mt-5",role:"status",children:Object(a.jsx)("span",{className:"visually-hidden",children:"Loading..."})});var e=l.rates.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:e.date}),Object(a.jsxs)("td",{children:[e.rate," z\u0142"]})]},"rate-row-".concat(t))}));return Object(a.jsxs)("div",{style:{paddingRight:10,paddingLeft:10},children:[Object(a.jsx)(d.a,{options:{chart:{height:350,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},title:{text:"PLN to ".concat(h," exchange rates"),align:"left"},xaxis:{type:"datetime",categories:l.rates.map((function(e){return e.date}))}},series:[{name:"".concat(h," price"),data:l.rates.map((function(e){return e.rate}))}],type:"area",height:350}),Object(a.jsxs)("table",{className:"table table-sm table-hover text-start",children:[Object(a.jsx)("thead",{className:"table-dark",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"Date"}),Object(a.jsx)("th",{scope:"col",children:"Rate"})]})}),Object(a.jsx)("tbody",{children:e})]})]})}()]})}var b=(new Date).toISOString().slice(0,10);function m(){var e=Object(c.useState)("USD"),t=Object(n.a)(e,2),s=t[0],l=t[1],i=Object(c.useState)(new Date(2019,1,1).toISOString().slice(0,10)),r=Object(n.a)(i,2),j=r[0],d=r[1],o=Object(c.useState)(null),h=Object(n.a)(o,2),m=h[0],O=h[1],x=Object(c.useState)(!0),p=Object(n.a)(x,2),u=p[0],g=p[1],N=Object(c.useState)(!1),f=Object(n.a)(N,2),y=f[0],v=f[1],D=Object(c.useRef)(!0);function k(){g(!0),fetch("http://localhost:8080/api/sales/".concat(s,"?date=").concat(j),{method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){console.log(e),O(e),g(!1),y&&v(!1)})):(v(!0),g(!1))})).catch((function(e){v(!0),g(!1)}))}return Object(c.useEffect)((function(){D.current||k()}),[j,s]),Object(c.useEffect)((function(){D.current=!1}),[]),D.current&&(k(),D.current=!1),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{style:{height:25,margin:10},children:[Object(a.jsx)("span",{className:"float-start",children:Object(a.jsx)("input",{type:"date",id:"start",name:"trip-start",value:j,min:"2012-01-01",max:b,onChange:function(e){return d(e.target.value)}})}),Object(a.jsx)("span",{className:"float-end",children:Object(a.jsxs)("select",{id:"inputState",onChange:function(e){return l(e.target.value)},defaultValue:"EUR",children:[Object(a.jsx)("option",{children:"EUR"}),Object(a.jsx)("option",{children:"USD"}),Object(a.jsx)("option",{children:"GBP"}),Object(a.jsx)("option",{children:"CHF"}),Object(a.jsx)("option",{children:"AUD"}),Object(a.jsx)("option",{children:"RUB"}),Object(a.jsx)("option",{children:"TRY"})]})})]}),Object(a.jsx)("div",{style:{paddingRight:20,paddingLeft:20},children:y?Object(a.jsxs)("div",{className:"alert alert-danger text-start m-5",role:"alert",children:[Object(a.jsx)("h4",{className:"alert-heading",children:"Error!"}),Object(a.jsx)("p",{children:"There was an error while connecting to exchange api."}),Object(a.jsx)("hr",{}),Object(a.jsx)("p",{className:"mb-0",children:"Please try again later."})]}):u?Object(a.jsx)("div",{className:"spinner-border text-dark mt-5",role:"status",children:Object(a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(a.jsxs)("div",{className:"shadow card",children:[Object(a.jsxs)("h4",{className:"card-header",children:[j," Sales"]}),Object(a.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsxs)("strong",{children:[parseFloat(m.totalOrdersAmountInPLN).toFixed(2)," PLN"]})}),Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsx)("strong",{children:parseFloat(m["totalOrdersAmountIn".concat(s)]).toFixed(2)+" "+s})})]})]})})]})}function O(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{className:"pt-2",children:"Exchange API Docs"}),Object(a.jsxs)("div",{className:"p-3",children:[Object(a.jsxs)("div",{className:"row row-cols-1 row-cols-md-2 g-4",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("h5",{className:"card-header",children:Object(a.jsx)("strong",{children:"Wymagane programy:"})}),Object(a.jsx)("div",{className:"card-text",children:Object(a.jsxs)("ul",{className:"list-group",children:[Object(a.jsx)("li",{className:"list-group-item",children:"python3"}),Object(a.jsx)("li",{className:"list-group-item",children:"npm"}),Object(a.jsx)("li",{className:"list-group-item",children:"node.js"}),Object(a.jsx)("li",{className:"list-group-item",children:"docker"})]})})]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"card shadow",children:[Object(a.jsx)("h5",{className:"card-header",children:Object(a.jsx)("strong",{children:"Wymagane paczki python:"})}),Object(a.jsx)("div",{className:"card-text",children:Object(a.jsxs)("ul",{className:"list-group",children:[Object(a.jsx)("li",{className:"list-group-item",children:"flask"}),Object(a.jsx)("li",{className:"list-group-item",children:"flask_cors"}),Object(a.jsx)("li",{className:"list-group-item",children:"flask_limiter"}),Object(a.jsx)("li",{className:"list-group-item",children:"psycopg2"})]})})]})})]}),Object(a.jsxs)("div",{className:"text-start",children:[Object(a.jsx)("h4",{className:"pt-2 mt-3 mb-3",children:"Instrukcja uruchomienia:"}),Object(a.jsxs)("ul",{className:"list-group shadow",children:[Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("strong",{children:"1.)"})," Przechodzimy do katalogu lab6"]}),Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("strong",{children:"2.)"})," Uruchamiamy aplikacje komend\u0105 'docker-compose up'"]}),Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("strong",{children:"3.)"})," Przechodzimy do przegl\u0105darki"]}),Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("strong",{children:"4.)"})," Wchodzimy na stron\u0119 znajduj\u0105c\u0105 si\u0119 pod adresem: 'localhost:3000'"]})]}),Object(a.jsx)("h4",{className:"pt-2 mt-3 mb-3",children:"Endpointy:"}),Object(a.jsxs)("div",{className:"shadow card p-2",children:[Object(a.jsx)("h5",{children:Object(a.jsx)("strong",{children:"Kursy waluty: /api/rates/$currency_codes"})}),Object(a.jsxs)("ul",{className:"list-group",children:[Object(a.jsx)("li",{className:"list-group-item list-group-item-secondary",children:Object(a.jsx)("strong",{children:"Parametry zapytania:"})}),Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("strong",{children:"$currency_code"})," - kod waluty dla oczkiwanych rat ( Wspierane waluty: EUR, USD, CHF, GBP, TRY, AUD, RUB )"]})]}),Object(a.jsxs)("ul",{className:"list-group mt-2",children:[Object(a.jsx)("li",{className:"list-group-item list-group-item-secondary",children:Object(a.jsx)("strong",{children:"Parametry \u015bcie\u017cki"})}),Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("strong",{children:"startDate"})," - data pocz\u0105towa rat (np. 2020-11-22)"]}),Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("strong",{children:"endDate"})," - data ko\u0144cowa rat (np. 2020-11-28)"]})]}),Object(a.jsxs)("ul",{className:"list-group mt-2",children:[Object(a.jsx)("li",{className:"list-group-item list-group-item-secondary",children:Object(a.jsx)("strong",{children:"Przyk\u0142adowe zapytania"})}),Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsx)("a",{className:"link-info",href:"http://localhost:8080/api/rates/USD?startDate=2020-11-22&endDate=2020-11-28",children:"http://localhost:8080/api/rates/USD?startDate=2020-11-22&endDate=2020-11-28"})}),Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsx)("a",{className:"link-info",href:"http://localhost:8080/api/rates/EUR?startDate=2019-02-22&endDate=2019-05-01",children:"http://localhost:8080/api/rates/EUR?startDate=2019-02-22&endDate=2019-05-01"})})]})]}),Object(a.jsxs)("div",{className:"shadow card p-2 mt-3",children:[Object(a.jsx)("h5",{children:Object(a.jsx)("strong",{children:"Dane sprzeda\u017cy: /api/sales/$currency_code"})}),Object(a.jsxs)("ul",{className:"list-group",children:[Object(a.jsx)("li",{className:"list-group-item list-group-item-secondary",children:Object(a.jsx)("strong",{children:"Parametry zapytania:"})}),Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("strong",{children:"$currency_code"})," - kod waluty dla oczkiwanych rat ( Wspierane waluty: EUR, USD, CHF, GBP, TRY, AUD, RUB )"]})]}),Object(a.jsxs)("ul",{className:"list-group mt-2",children:[Object(a.jsx)("li",{className:"list-group-item list-group-item-secondary",children:Object(a.jsx)("strong",{children:"Parametry \u015bcie\u017cki"})}),Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("strong",{children:"startDate"})," - dzie\u0144, dla kt\xf3rego podsumowujemy sprzeda\u017c (np. 2020-11-22)"]})]}),Object(a.jsxs)("ul",{className:"list-group mt-2",children:[Object(a.jsx)("li",{className:"list-group-item list-group-item-secondary",children:Object(a.jsx)("strong",{children:"Przyk\u0142adowe zapytania"})}),Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsx)("a",{className:"link-info",href:"http://localhost:8080/api/sales/USD?date=2019-03-10",children:"http://localhost:8080/api/sales/USD?date=2019-03-10"})}),Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsx)("a",{className:"link-info",href:"http://localhost:8080/api/sales/EUR?date=2019-02-22",children:"http://localhost:8080/api/sales/EUR?date=2019-02-22"})})]})]})]})]})]})}var x=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("nav",{className:"navbar navbar-dark bg-dark",children:Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsx)("a",{className:"navbar-brand",href:"#",children:Object(a.jsx)("h4",{className:"text-white",children:"Exchange App"})})})}),Object(a.jsxs)("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:[Object(a.jsx)("li",{className:"nav-item",role:"presentation",children:Object(a.jsx)("a",{className:"nav-link active",id:"exchange-rates-tab","data-bs-toggle":"tab",href:"#exchange-rates",role:"tab","aria-controls":"home","aria-selected":"true",children:"Exchange rates"})}),Object(a.jsx)("li",{className:"nav-item",role:"presentation",children:Object(a.jsx)("a",{className:"nav-link",id:"sales-info-tab","data-bs-toggle":"tab",href:"#sales-info",role:"tab","aria-controls":"profile","aria-selected":"false",children:"Sales Information"})}),Object(a.jsx)("li",{className:"nav-item",role:"presentation",children:Object(a.jsx)("a",{className:"nav-link",id:"api-docs-tab","data-bs-toggle":"tab",href:"#api-docs",role:"tab","aria-controls":"profile","aria-selected":"false",children:"Api Docs"})})]}),Object(a.jsxs)("div",{className:"tab-content",id:"myTabContent",children:[Object(a.jsx)("div",{className:"tab-pane fade show active",id:"exchange-rates",role:"tabpanel","aria-labelledby":"exchange-rates-tab",children:Object(a.jsx)(h,{})}),Object(a.jsx)("div",{className:"tab-pane fade",id:"sales-info",role:"tabpanel","aria-labelledby":"sales-info-tab",children:Object(a.jsx)(m,{})}),Object(a.jsx)("div",{className:"tab-pane fade",id:"api-docs",role:"tabpanel","aria-labelledby":"api-docs-tab",children:Object(a.jsx)(O,{})})]})]})},p=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,18)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,l=t.getLCP,i=t.getTTFB;s(e),a(e),c(e),l(e),i(e)}))};r.a.render(Object(a.jsx)(l.a.StrictMode,{children:Object(a.jsx)(x,{})}),document.getElementById("root")),p()}},[[17,1,2]]]);
//# sourceMappingURL=main.853f3736.chunk.js.map